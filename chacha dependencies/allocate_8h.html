<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crypto++: allocate.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Crypto++
   &#160;<span id="projectnumber">8.8</span>
   </div>
   <div id="projectbrief">Free&nbsp;C&#43;&#43;&nbsp;class&nbsp;library&nbsp;of&nbsp;cryptographic&nbsp;schemes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">allocate.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for allocating aligned buffers.  
<a href="#details">More...</a></p>

<p><a href="allocate_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4efe98b1ab4ba32d36fb2487fd5a2eb1"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_DLL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1">CallNewHandler</a> ()</td></tr>
<tr class="memdesc:a4efe98b1ab4ba32d36fb2487fd5a2eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to reclaim unused memory.  <a href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1">More...</a><br /></td></tr>
<tr class="separator:a4efe98b1ab4ba32d36fb2487fd5a2eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a893782609787a8a174a47e6587477"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_DLL void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="allocate_8h.html#ae1a893782609787a8a174a47e6587477">AlignedAllocate</a> (size_t size)</td></tr>
<tr class="memdesc:ae1a893782609787a8a174a47e6587477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a buffer on 16-byte boundary.  <a href="allocate_8h.html#ae1a893782609787a8a174a47e6587477">More...</a><br /></td></tr>
<tr class="separator:ae1a893782609787a8a174a47e6587477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a489c16a515417f1f63a8554a0c4d2"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_DLL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2">AlignedDeallocate</a> (void *ptr)</td></tr>
<tr class="memdesc:a15a489c16a515417f1f63a8554a0c4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a buffer allocated with AlignedAllocate.  <a href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2">More...</a><br /></td></tr>
<tr class="separator:a15a489c16a515417f1f63a8554a0c4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab2916a1b907af73d207015ce15d15a"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_DLL void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a">UnalignedAllocate</a> (size_t size)</td></tr>
<tr class="memdesc:a5ab2916a1b907af73d207015ce15d15a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a buffer.  <a href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a">More...</a><br /></td></tr>
<tr class="separator:a5ab2916a1b907af73d207015ce15d15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec1f8cd926f97e667d438cede364003"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_DLL void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003">UnalignedDeallocate</a> (void *ptr)</td></tr>
<tr class="memdesc:a7ec1f8cd926f97e667d438cede364003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a buffer allocated with UnalignedAllocate.  <a href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003">More...</a><br /></td></tr>
<tr class="separator:a7ec1f8cd926f97e667d438cede364003"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for allocating aligned buffers. </p>

<p class="definition">Definition in file <a class="el" href="allocate_8h_source.html">allocate.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4efe98b1ab4ba32d36fb2487fd5a2eb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efe98b1ab4ba32d36fb2487fd5a2eb1">&#9670;&nbsp;</a></span>CallNewHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_DLL void CallNewHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to reclaim unused memory. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">bad_alloc</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>In the normal course of running a program, a request for memory normally succeeds. If a call to AlignedAllocate or UnalignedAllocate fails, then CallNewHandler is called in n effort to recover. Internally, CallNewHandler calls set_new_handler(nullptr) in an effort to free memory. There is no guarantee CallNewHandler will be able to obtain more memory so an allocation succeeds. If the call to set_new_handler fails, then CallNewHandler throws a bad_alloc exception. </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">bad_alloc</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Crypto++ 5.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="allocate_8h.html#ae1a893782609787a8a174a47e6587477" title="Allocates a buffer on 16-byte boundary.">AlignedAllocate</a>, <a class="el" href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2" title="Frees a buffer allocated with AlignedAllocate.">AlignedDeallocate</a>, <a class="el" href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a" title="Allocates a buffer.">UnalignedAllocate</a>, <a class="el" href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003" title="Frees a buffer allocated with UnalignedAllocate.">UnalignedDeallocate</a> </dd></dl>

</div>
</div>
<a id="ae1a893782609787a8a174a47e6587477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1a893782609787a8a174a47e6587477">&#9670;&nbsp;</a></span>AlignedAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_DLL void* AlignedAllocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a buffer on 16-byte boundary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>the size of the buffer</td></tr>
  </table>
  </dd>
</dl>
<p>AlignedAllocate is primarily used when the data will be processed by SSE, NEON, ARMv8 or PowerPC instructions. The assembly language routines rely on the alignment. If the alignment is not respected, then a SIGBUS could be generated on Unix and Linux, and an EXCEPTION_DATATYPE_MISALIGNMENT could be generated on Windows.</p>
<p>Formerly, AlignedAllocate and AlignedDeallocate were only available on certain platforms when CRYTPOPP_DISABLE_ASM was not in effect. However, Android and iOS debug simulator builds got into a state where the aligned allocator was not available and caused link failures. </p><dl class="section since"><dt>Since</dt><dd>AlignedAllocate for SIMD since Crypto++ 1.0, AlignedAllocate for all builds since Crypto++ 8.1 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2" title="Frees a buffer allocated with AlignedAllocate.">AlignedDeallocate</a>, <a class="el" href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a" title="Allocates a buffer.">UnalignedAllocate</a>, <a class="el" href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003" title="Frees a buffer allocated with UnalignedAllocate.">UnalignedDeallocate</a>, <a class="el" href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1" title="Attempts to reclaim unused memory.">CallNewHandler</a>, <a href="http://github.com/weidai11/cryptopp/issues/779">Issue 779</a> </dd></dl>

</div>
</div>
<a id="a15a489c16a515417f1f63a8554a0c4d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a489c16a515417f1f63a8554a0c4d2">&#9670;&nbsp;</a></span>AlignedDeallocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_DLL void AlignedDeallocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a buffer allocated with AlignedAllocate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the buffer to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>AlignedDeallocate for SIMD since Crypto++ 1.0, AlignedAllocate for all builds since Crypto++ 8.1 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="allocate_8h.html#ae1a893782609787a8a174a47e6587477" title="Allocates a buffer on 16-byte boundary.">AlignedAllocate</a>, <a class="el" href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a" title="Allocates a buffer.">UnalignedAllocate</a>, <a class="el" href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003" title="Frees a buffer allocated with UnalignedAllocate.">UnalignedDeallocate</a>, <a class="el" href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1" title="Attempts to reclaim unused memory.">CallNewHandler</a>, <a href="http://github.com/weidai11/cryptopp/issues/779">Issue 779</a> </dd></dl>

</div>
</div>
<a id="a5ab2916a1b907af73d207015ce15d15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab2916a1b907af73d207015ce15d15a">&#9670;&nbsp;</a></span>UnalignedAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_DLL void* UnalignedAllocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>the size of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Crypto++ 1.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="allocate_8h.html#ae1a893782609787a8a174a47e6587477" title="Allocates a buffer on 16-byte boundary.">AlignedAllocate</a>, <a class="el" href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2" title="Frees a buffer allocated with AlignedAllocate.">AlignedDeallocate</a>, <a class="el" href="allocate_8h.html#a7ec1f8cd926f97e667d438cede364003" title="Frees a buffer allocated with UnalignedAllocate.">UnalignedDeallocate</a>, <a class="el" href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1" title="Attempts to reclaim unused memory.">CallNewHandler</a>, <a href="http://github.com/weidai11/cryptopp/issues/779">Issue 779</a> </dd></dl>

</div>
</div>
<a id="a7ec1f8cd926f97e667d438cede364003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec1f8cd926f97e667d438cede364003">&#9670;&nbsp;</a></span>UnalignedDeallocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_DLL void UnalignedDeallocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a buffer allocated with UnalignedAllocate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the buffer to free </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Crypto++ 1.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="allocate_8h.html#ae1a893782609787a8a174a47e6587477" title="Allocates a buffer on 16-byte boundary.">AlignedAllocate</a>, <a class="el" href="allocate_8h.html#a15a489c16a515417f1f63a8554a0c4d2" title="Frees a buffer allocated with AlignedAllocate.">AlignedDeallocate</a>, <a class="el" href="allocate_8h.html#a5ab2916a1b907af73d207015ce15d15a" title="Allocates a buffer.">UnalignedAllocate</a>, <a class="el" href="allocate_8h.html#a4efe98b1ab4ba32d36fb2487fd5a2eb1" title="Attempts to reclaim unused memory.">CallNewHandler</a>, <a href="http://github.com/weidai11/cryptopp/issues/779">Issue 779</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 26 2023 03:35:20 for Crypto++ by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
